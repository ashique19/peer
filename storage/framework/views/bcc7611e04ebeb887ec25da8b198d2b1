


<?php $__env->startSection('title'); ?> Message <?php $__env->stopSection(); ?>

<?php $__env->startSection('main'); ?>

<h1><center>Messages <?php if($messages): ?> : <?php echo e($messages->total()); ?> <?php endif; ?></center></h1>

<section class="col-sm-10 col-sm-offset-1">
    
    <?php echo Form::open(['class'=>'form form-inline', 'method' =>'post', 'url'=> action('Messages@searchIndex')]); ?> 
        <div class="form-group">
            <?php echo Form::label('name', 'Subject: '); ?>

            <?php echo Form::text('name', old('name') , ['class'=>'form-control']); ?>

        </div>
            
        <div class="form-group">
            <?php echo Form::label('is_reply', 'Is reply: '); ?>

            <?php echo Form::select('is_reply', [ ''=>'-Select-','1'=>'Yes', '0'=>'No'], old('is_reply') , ['class'=>'form-control']); ?>

        </div>
            
        <div class="form-group">
            <?php echo Form::label('is_read', 'Is read: '); ?>

            <?php echo Form::select('is_read', [ ''=>'-Select-','1'=>'Yes', '0'=>'No'], old('is_read') , ['class'=>'form-control']); ?>

        </div>
            
        <div class="form-group">
            <?php echo Form::label('from', 'From: '); ?>

            <?php echo Form::text('from', old('from') , ['class'=>'form-control datepicker']); ?>

        </div>
        
        <div class="form-group">
            <?php echo Form::label('to', 'To: '); ?>

            <?php echo Form::text('to', old('to') , ['class'=>'form-control datepicker']); ?>

        </div>

        <?php echo Form::submit('search', ['class'=>'btn btn-info']); ?>

        
    <?php echo Form::close(); ?>

    
    <hr>
</section>



<?php if($errors->any()): ?>
<section class="col-sm-10 col-sm-offset-1 panel-body">
    <h4>Please check:</h4>
    
    <ul>
        <?php foreach($errors->all() as $error): ?>
        
            <li><?php echo e($error); ?></li>
        
        <?php endforeach; ?>
    </ul>
    <hr>
</section>  
<?php endif; ?>

<section class="col-sm-10 col-sm-offset-1">
    
    <a href="<?php echo e(action('Messages@create')); ?>" class="btn btn-default pull-right btn-lg blue-border blue-text">Compose</a>
    
    <table class="table table-responsive">
        <thead>
            <tr>
				<th class="blue-bg white-text">Id</th>
				<th class="blue-bg white-text">Subject</th>
				<th class="blue-bg white-text">Message from</th>
				<th class="blue-bg white-text">Message to</th>
                <th class="blue-bg white-text" width="50">Show</th>
                <th class="blue-bg white-text" width="50">Modify</th>
                <th class="blue-bg white-text" width="50">Delete</th>
            </tr>
        </thead>
        <tbody>
            <?php if($messages): ?>
                <?php foreach($messages as $message): ?>
                    <tr>
						<td><?php echo e($message->id); ?></td>
						<td><?php echo e($message->name); ?></td>
						<td><?php if($message->from): ?><?php echo e($message->from->name); ?><?php endif; ?></td>
						<td><?php if($message->to): ?><?php echo e($message->to->name); ?><?php endif; ?></td>
                        <td>
                            <?php echo views('Messages', $message->id, '<span class=\'fa fa-expand\'></span>', ['class'=>'btn btn-success btn-rounded']); ?>

                        </td>
                        <td>
                            <?php echo edits('Messages', $message['id'], '<span class=\'fa fa-pencil\'></span>', ['class'=>'btn btn-warning btn-rounded']); ?>

                        </td>
                        <td>
                            <?php echo deletes('Messages', $message['id'], '<span class=\'fa fa-times\'></span>', ['class'=>'btn btn-danger btn-rounded']); ?>

                        </td>
                    </tr>
                <?php endforeach; ?>
            <?php endif; ?>
        </tbody>
    </table>
    <?php echo $messages->render(); ?>

</section>


<?php $__env->stopSection(); ?>
        
<?php echo $__env->make('admin.layout', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>